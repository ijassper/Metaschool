{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg border-0">
        <div class="card-header bg-white py-3 border-bottom d-flex justify-content-between align-items-center">
            <h3 class="fw-bold text-primary mb-0">ğŸ“„ í‰ê°€ ìƒì„¸ ì •ë³´</h3>
            <span class="badge bg-secondary fs-6">{{ activity.subject_name }}</span>
        </div>
        
        <div class="card-body p-5">
            <!-- í‰ê°€ ì •ë³´ -->
            <h4 class="fw-bold mb-3">[{{ activity.section }}] {{ activity.title }}</h4>
            <div class="alert alert-light border">
                <ul class="mb-0 text-muted small">
                    <li>ìƒì„±ì¼: {{ activity.created_at|date:"Y-m-d H:i" }}</li>
                    <li>ìƒíƒœ: {{ activity.is_active|yesno:"ì§„í–‰ì¤‘,ëŒ€ê¸°ì¤‘" }}</li>
                </ul>
            </div>

            <!-- ë¬¸í•­ ë¯¸ë¦¬ë³´ê¸° -->
            <h5 class="mt-4 border-bottom pb-2">ë¬¸í•­ ë¯¸ë¦¬ë³´ê¸°</h5>
            {% for q in questions %}
                <div class="mb-4">
                    <p class="fw-bold mb-1">Q{{ q.question_number }}. {{ q.content }}</p>
                    {% if q.reference %}
                    <div class="bg-light p-3 rounded text-muted small mb-2">
                        <strong>[ì°¸ê³ ]</strong><br>{{ q.reference|linebreaksbr }}
                    </div>
                    {% endif %}
                    <div class="text-end small text-secondary">
                        ì‘ì„± ì¡°ê±´: {{ q.conditions|default:"ì—†ìŒ" }} / ì œí•œ: {{ q.max_length|default:"ë¬´ì œí•œ" }}ì
                    </div>
                </div>
            {% endfor %}

            <hr class="my-5">

            <!-- ê´€ë¦¬ ë²„íŠ¼ë“¤ (ìˆ˜ì •/ì‚­ì œ) -->
            <div class="d-flex justify-content-center gap-2">
                <a href="{% url 'activity_list' %}" class="btn btn-secondary px-4">ëª©ë¡ìœ¼ë¡œ</a>
                <a href="{% url 'update_test' activity.id %}" class="btn btn-primary px-4">ìˆ˜ì •í•˜ê¸°</a>
                <a href="{% url 'delete_test' activity.id %}" class="btn btn-danger px-4" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">ì‚­ì œí•˜ê¸°</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}